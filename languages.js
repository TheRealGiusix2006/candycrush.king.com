var enTexts = "{\"preloader_loading_part1_message\":\"Adding frosting\",\"preloader_loading_part2_message\":\"Mixing ingredients\",\"preloader_loading_part3_message\":\"Measuring sugar\",\"preloader_loading_part4_message\":\"Heating oven\",\"preloader_loading_part5_message\":\"Sampling candy mix\",\"preloader_loading_part6_message\":\"Polishing\",\"preloader_loading_header\":\"Making candy\",\"preloader_loading_complete_header\":\"Candy complete!\",\"preloader_tips_header\":\"Did you know?\",\"preloader_tips_cake\":\"Destroy a Cake Bomb for a divine explosion!\",\"preloader_tips_chameleon\":\"The Chameleon Candy is sneaky. It changes candy color with each turn.\",\"preloader_tips_chocolate\":\"Chocolate multiplying is only a nightmare in Candy Crush!\",\"preloader_tips_colorbomb\":\"Try matching each type of candy with a Color bomb for sweet combos.\",\"preloader_tips_dreamworld\":\"Access Dreamworld by completing Level 50!\",\"preloader_tips_dreamworld_2\":\"Go far in Reality to access even more levels in Dreamworld.\",\"preloader_tips_dreamworld_3\":\"Tiffi's slumbers unlock a whole new Dreamworld of fun! \",\"preloader_tips_dreamworld_4\":\"In Dreamworld, don't let Odus tip over! It ruffles his feathers. \",\"preloader_tips_fish\":\"Swedish Fish eat any candy but jelly is its favorite.\",\"preloader_tips_fish_2\":\"Tiffi eats 500 Swedish Fish a day because it?s good for her joints. \",\"preloader_tips_fish_3\":\"Swedish Fish can eat any candy, but difficult candies are their favorite.\",\"preloader_tips_friends\":\"Unlocking new episodes is faster when you play with friends.\",\"preloader_tips_friends_2\":\"Friends can help you pass blocks, get more lives and encourage your progress.\",\"preloader_tips_hammer\":\"Lollipop Hammers will smash any item on the board that gives you a hard time.\",\"preloader_tips_icing\":\"Icing can come in many layers. Be prepared for deliciousness!\",\"preloader_tips_lucky\":\"Match Lucky Candies to reveal exactly the candy you need!\",\"preloader_tips_marmelade\":\"Marmalade covers candies. It's easy to remove but you might get sticky!\",\"preloader_tips_minty\":\"When Minty eats too much candy, his take-off is a bit slow.\",\"preloader_tips_mystery\":\"Mystery candy can be good or bad, but it is always fun to find out.\",\"preloader_tips_odus\":\"Odus carries Tiffi off to Dreamworld whenever she falls asleep!\",\"preloader_tips_pepperbomb\":\"Remove Candy Bombs before they hit 0!\",\"preloader_tips_soda\":\"Tiffi regularly sends home messages-in-a-bottle to recount her adventures.\",\"preloader_tips_soda_2\":\"The Candy Kingdom is one of the vastest lands known to man.\",\"preloader_tips_soda_3\":\"A giant Candy Factory has produced every piece of candy in the Candy Kingdom!\",\"preloader_tips_spawner\":\"Chocolate Spawners create Chocolate out of thin air! Where can I buy one?\",\"preloader_tips_striped\":\"Striped Candy clears a whole line of candies when matched. \",\"preloader_tips_striped_2\":\"Match a Striped Candy and a Color Bomb and get a lot of striped candies.\",\"preloader_tips_striped_3\":\"The direction of the stripes on a striped candy shows which direction it will go.\",\"preloader_tips_striped_4\":\"Form a Striped Candy by matching 4 candies in a row.\",\"preloader_tips_switch\":\"Free Switch can swap two candies that don't match!\",\"preloader_tips_teeth\":\"Sweet Teeth's favorite candies are chocolate, licorice and jelly.\",\"preloader_tips_time\":\"Look for extra time candies to maximize your play in timed levels.\",\"preloader_tips_toffee\":\"Mr. Toffee adopted Tiffi and Kimmy\",\"preloader_tips_toffee_2\":\"Mr. Toffee's favorite candy is actually jelly, not toffee!\",\"preloader_tips_troll\":\"The Bubblegum Troll can halt the Chocolate Spawners for 5 moves!\",\"preloader_tips_troll_2\":\"The Bubblegum Troll knows everything about the Candy Kingdom.\",\"preloader_tips_troll_3\":\"The Bubblegum Troll is mischievous, be ready for anything!\",\"preloader_tips_wrapped\":\"Wrapped candy blow up surrounding candies with a sugary blast!\",\"preloader_tips_wrapped_2\":\"Match 2 wrapped candies to create a 5X5 candy blast!\",\"preloader_tips_wrapped_3\":\"Wrapped Candy creates a delicious explosion when activated.\",\"preloader_tips_yeti\":\"The Yeti bathes in a big bath of soda, five times a day.\",\"preloader_error_message\":\"An error occurred while loading\"}";

window.languages = {
	en: {
		display: 'English',
		font: 'DefaultFonts',
		pageFont: 'Tahoma',
		pageFontSize: '8',
		language: 'en',
		locale: 'en_US',
		title: 'Candy Crush Saga',
		ui: {
			UNLOCK_LEVEL_PROMPT: 'Unlock levels until what level? (2825) This action is irreversible.',
			CHARGE_LIVES_PROMPT: 'Charge all the hearts?',
			EXTEND_LIVES_PROMPT: 'Enter the maximum number of hearts.',
			ENTER_PROFILE_NAME: 'Enter the name of the profile',
			NAME_ALREADY_EXISTS: 'That name already exists.',
			NEW_NAME_PROMPT: 'Enter the new name',
			PROFILE_DATA_PROMPT: 'Enter profile data',
			INVALID_DATA: 'Invalid data',
			IMPORT_ALREADY_EXISTS: 'That name already exists. Enter a new name or leave it blank to overwrite',
			PROFILE_NOT_FOUND: 'Profile not found',
			COPY_PROFILE_DATA: 'Copy the exported data',
			BOOSTER_LIST: 'Enter the booster you want in number: \n1. UFO\n2. Stripe brush\n3. Bubblegum troll\n4. Sweet teeth\n5. Joker\n6. Striped and wrapped candies\n7. Anti peppar\n8. Free switch\n9. Coconut wheel\n10. Jelly fish\n11. Lollipop hammer\n12. Extra moves\n13. Color bomb\n14. Extra time',
			BOOSTER_AMOUNT_PROMPT: 'How many do you want? (Enter negative to remove)',
			GOLDBAR_AMOUNT_PROMPT: 'Enter the number of gold bars to add to your bank (Enter negative to decrease them)',
			SWITCH_PROFILES: 'Switch Profiles',
			MANAGE_PROFILES: 'Manage Profiles',
			NEW_PROFILE: 'Create new profile',
			DELETE_PROFILE: 'Delete current profile',
			RENAME_PROFILE: 'Rename current profile',
			IMPORT_PROFILE: 'Import profile',
			EXPORT_PROFILE: 'Export current profile',
			GAME_TOOLS: 'Game Tools',
			UNLOCK_LEVELS: 'Unlock levels',
			CHARGE_LIVES: 'Charge lives',
			EXTEND_LIVES: 'Extend lives',
			ADD_BOOSTERS: 'Add boosters',
			ADD_GOLDBARS: 'Add gold bars',
			LEVEL_EDITOR: 'Level editor',
			SELECT_LANGUAGE: 'Select Language',
			SELECT_VERSION: 'Select Version',
			DELETE_PROFILE_CONFIRM: 'Delete current profile? You will lose all your progress.',
			RESET_WHEEL: 'Reset roulette time',
			RESET_WHEEL_CONFIRM: 'Are you sure you want to reset the roulette so you can spin it again now?',
		}
	},
	ko: {
		display: '한국어',
		font: 'KoreanFonts',
		pageFont: '\'굴림\', Gulim',
		pageFontSize: '9',
		language: 'ko',
		locale: 'ko',
		title: '캔디 크러쉬 사가',
		ui: {
			UNLOCK_LEVEL_PROMPT: '몇 레벨까지 잠금 해제할까요? (최대 2825) 이 작업은 취소할 수 없습니다',
			CHARGE_LIVES_PROMPT: '하트를 모두 충전하시겠습니까?',
			EXTEND_LIVES_PROMPT: '최대 하트의 개수를 입력하십시오',
			ENTER_PROFILE_NAME: '프로필 이름을 입력하십시오',
			NAME_ALREADY_EXISTS: '이미 존재하는 이름입니다',
			NEW_NAME_PROMPT: '새 이름을 입력하십시오',
			PROFILE_DATA_PROMPT: '프로필 데이타를 입력하십시오',
			INVALID_DATA: '데이타가 잘못되었습니다',
			IMPORT_ALREADY_EXISTS: '이미 존재하는 이름입니다. 새 이름을 입력하거나 덮어쓰려면 비워두십시오',
			PROFILE_NOT_FOUND: '프로필이 존재하지 않습니다',
			COPY_PROFILE_DATA: '내보낸 프로필 데이타를 복사하십시오',
			BOOSTER_LIST: '부스터의 번호를 입력하십시오. \n1. UFO\n2. 줄무늬 브러쉬\n3. 버블껌 트롤\n4. 달콤한 이빨\n5. 조커\n6. 줄무늬 캔디와 포장 캔디\n7. 안티 페퍼\n8. 맘대로 바꾸기\n9. 코코넛 휠\n10. 젤리 물고기\n11. 롤리팝 해머\n12. 추가 이동 횟수\n13. 컬러 폭탄\n14. 추가 시간',
			BOOSTER_AMOUNT_PROMPT: '추가할 부스터의 개수를 입력하십시오 (음수로 제거)',
			GOLDBAR_AMOUNT_PROMPT: '추가할 골드 바의 수를 입력하십시오 (음수로 제거)',
			SWITCH_PROFILES: '프로필 전환',
			MANAGE_PROFILES: '프로필 관리',
			NEW_PROFILE: '새 프로필 만들기',
			DELETE_PROFILE: '현재 프로필 삭제',
			RENAME_PROFILE: '현재 프로필 이름 바꾸기',
			IMPORT_PROFILE: '프로필 가져오기',
			EXPORT_PROFILE: '현재 프로필 내보내기',
			GAME_TOOLS: '게임 도구',
			UNLOCK_LEVELS: '레벨 잠금 해제',
			CHARGE_LIVES: '하트 충전',
			EXTEND_LIVES: '최대 하트 수 조정',
			ADD_BOOSTERS: '부스터 추가',
			ADD_GOLDBARS: '골드 바 추가',
			LEVEL_EDITOR: '레벨 편집기',
			SELECT_LANGUAGE: '언어 선택',
			SELECT_VERSION: '버전 선택',
			DELETE_PROFILE_CONFIRM: '프로필을 삭제하시겠습니까? 게임 진행 상황이 삭제됩니다',
			RESET_WHEEL: '룰렛 날짜 초기화',
			RESET_WHEEL_CONFIRM: '룰렛 날짜를 초기화하여 지금 다시 돌릴 수 있게 하시겠습니까?',
		}
	},
	zh: {
		display: '中文',
		font: 'JapaneseFonts',
		pageFont: 'undefined',
		pageFontSize: '9',
		language: 'zh',
		locale: 'zh',
		title: '糖果传奇',
		ui: {
			UNLOCK_LEVEL_PROMPT: '解锁级别到第几级？(2825) 此操作不可逆。',
			CHARGE_LIVES_PROMPT: '充能所有红心？',
			EXTEND_LIVES_PROMPT: '输入最大红心数量。',
			ENTER_PROFILE_NAME: '输入个人资料名称',
			NAME_ALREADY_EXISTS: '该名称已存在。',
			NEW_NAME_PROMPT: '输入新名称',
			PROFILE_DATA_PROMPT: '输入个人资料数据',
			INVALID_DATA: '数据无效',
			IMPORT_ALREADY_EXISTS: '该名称已存在。输入新名称或留空以覆盖',
			PROFILE_NOT_FOUND: '未找到配置文件',
			COPY_PROFILE_DATA: '复制导出的数据',
			BOOSTER_LIST: '请输入您想要的增强道具数量：\n1. UFO\n2. 条纹刷\n3. 泡泡糖巨魔\n4. 甜心牙齿\n5. 小丑\n6. 条纹包装糖果\n7. 反胡椒\n8. 自由开关\n9. 椰子轮\n10. 水母\n11. 棒棒糖锤\n12. 额外移动\n13. 彩色炸弹\n14. 额外时间',
			BOOSTER_AMOUNT_PROMPT: '您想要多少个？ （输入负数即可移除）',
			GOLDBAR_AMOUNT_PROMPT: '输入要添加到银行的金条数量（输入负数即可减少）',
			SWITCH_PROFILES: '切换个人资料',
			MANAGE_PROFILES: '管理个人资料',
			NEW_PROFILE: '创建新个人资料',
			DELETE_PROFILE: '删除当前个人资料',
			RENAME_PROFILE: '重命名当前个人资料',
			IMPORT_PROFILE: '导入个人资料',
			EXPORT_PROFILE: '导出当前个人资料',
			GAME_TOOLS: '游戏工具',
			UNLOCK_LEVELS: '解锁关卡',
			CHARGE_LIVES: '充能生命',
			EXTEND_LIVES: '延长生命',
			ADD_BOOSTERS: '添加助推器',
			ADD_GOLDBARS: '添加金币bars',
			LEVEL_EDITOR: '关卡编辑器',
			SELECT_LANGUAGE: '选择语言',
			SELECT_VERSION: '选择版本',
			DELETE_PROFILE_CONFIRM: '删除当前个人资料？您将丢失所有进度。',
			RESET_WHEEL: '重置轮盘时间',
			RESET_WHEEL_CONFIRM: '您确定要重置轮盘以便现在再次旋转吗？',
		}
	},
	ja: {
		display: '日本語',
		font: 'JapaneseFonts',
		pageFont: 'undefined',
		pageFontSize: '9',
		language: 'ja',
		locale: 'ja',
		title: 'キャンディークラッシュ',
		ui: {
			UNLOCK_LEVEL_PROMPT: '何レベルまでレベルをアンロックしますか？ (2825) この操作は元に戻せません。',
			CHARGE_LIVES_PROMPT: 'すべてのハートをチャージしますか？',
			EXTEND_LIVES_PROMPT: 'ハートの最大数を入力してください。',
			ENTER_PROFILE_NAME: 'プロフィール名を入力してください。',
			NAME_ALREADY_EXISTS: 'その名前は既に存在します。',
			NEW_NAME_PROMPT: '新しい名前を入力してください。',
			PROFILE_DATA_PROMPT: 'プロフィールデータを入力してください。',
			INVALID_DATA: '無効なデータです。',
			IMPORT_ALREADY_EXISTS: 'その名前は既に存在します。 新しい名前を入力するか、空白のままにして上書きしてください',
			PROFILE_NOT_FOUND: 'プロフィールが見つかりません',
			COPY_PROFILE_DATA: 'エクスポートしたデータをコピーします',
			BOOSTER_LIST: '欲しいブースターの番号を入力してください: \n1. UFO\n2. ストライプブラシ\n3. バブルガムトロール\n4. スウィートティース\n5. ジョーカー\n6. ストライプ＆ラッピングキャンディー\n7. アンチペッパー\n8. フリースイッチ\n9. ココナッツホイール\n10. ジェリーフィッシュ\n11. ロリポップハンマー\n12. エクストラムーブ\n13. カラーボム\n14. エクストラタイム',
			BOOSTER_AMOUNT_PROMPT: 'いくつ欲しいですか？ (マイナス番号を入力すると削除されます)',
			GOLDBAR_AMOUNT_PROMPT: 'バンクに追加するゴールドバーの数を入力してください (マイナス番号を入力すると減ります)',
			SWITCH_PROFILES: 'プロファイルを切り替える',
			MANAGE_PROFILES: 'プロファイルを管理する',
			NEW_PROFILE: '新しいプロファイルを作成する',
			DELETE_PROFILE: '現在のプロファイルを削除する',
			RENAME_PROFILE: '現在のプロファイルの名前を変更する',
			IMPORT_PROFILE: 'プロファイルをインポートする',
			EXPORT_PROFILE: '現在のプロファイルをエクスポートする',
			GAME_TOOLS: 'ゲームツール',
			UNLOCK_LEVELS: 'レベルをアンロックする',
			CHARGE_LIVES: 'ライフをチャージする',
			EXTEND_LIVES: 'ライフを延長する',
			ADD_BOOSTERS: 'ブースターを追加する',
			ADD_GOLDBARS: 'ゴールドを追加するバー',
			LEVEL_EDITOR: 'レベルエディター',
			SELECT_LANGUAGE: '言語を選択',
			SELECT_VERSION: 'バージョンを選択',
			DELETE_PROFILE_CONFIRM: '現在のプロフィールを削除しますか？これまでの進行状況はすべて失われます。',
			RESET_WHEEL: 'ルーレットの時間をリセット',
			RESET_WHEEL_CONFIRM: 'ルーレットをリセットして、もう一度回してもよろしいですか？',
		}
	},
	ru: {
		display: 'Русский',
		font: 'RussianFonts',
		pageFont: 'undefined',
		pageFontSize: '9',
		language: 'ru',
		locale: 'ru',
		title: 'Candy Crush Saga',
		ui: {
			UNLOCK_LEVEL_PROMPT: 'Разблокировать уровни до какого уровня? (2825) Это действие необратимо.',
			CHARGE_LIVES_PROMPT: 'Зарядить все сердца?,',
			EXTEND_LIVES_PROMPT: 'Введите максимальное количество сердец.',
			ENTER_PROFILE_NAME: 'Введите имя профиля.',
			NAME_ALREADY_EXISTS: 'Такое имя уже существует.',
			NE_NAME_PROMPT: 'Введите новое имя.',
			PROFILE_DATA_PROMPT: 'Введите данные профиля.',
			INVALID_DATA: 'Неверные данные.',
			IMPORT_ALREADY_EXISTS: 'Такое имя уже существует. Введите новое имя или оставьте поле пустым для перезаписи.',
			PROFILE_NOT_FOUND: 'Профиль не найден.',
			COPY_PROFILE_DATA: 'Скопировать экспортированные данные.',
			BOOSTER_LIST: 'Введите номер нужного усилителя: \n1. НЛО\n2. Полосатая щётка\n3. Тролль из жвачки\n4. Сладкоежка\n5. Джокер\n6. Конфеты в полоску и обёртке\n7. Антиперец\n8. Свободный переключатель\n9. Кокосовое колесо\n10. Желейная рыбка\n11. Молоток для леденцов\n12. Дополнительные ходы\n13. Цветная бомба\n14. Дополнительное время.',
			BOOSTER_AMOUNT_PROMPT: 'Сколько вам нужно? (Введите отрицательное число, чтобы удалить)',
			GOLDBAR_AMOUNT_PROMPT: 'Введите количество золотых слитков для добавления в банк (Введите отрицательное число, чтобы уменьшить)',
			SWITCH_PROFILES: 'Переключить профили',
			MANAGE_PROFILES: 'Управление профилями',
			NEW_PROFILE: 'Создать новый профиль',
			DELETE_PROFILE: 'Удалить текущий профиль',
			RENAME_PROFILE: 'Переименовать текущий профиль',
			IMPORT_PROFILE: 'Импортировать профиль',
			EXPORT_PROFILE: 'Экспортировать текущий профиль',
			GAME_TOOLS: 'Игровые инструменты',
			UNLOCK_LEVELS: 'Разблокировать уровни',
			CHARGE_LIVES: 'Зарядить жизни',
			EXTEND_LIVES: 'Продлить жизни',
			ADD_BOOSTERS: 'Добавить Бустеры',
			ADD_GOLDBARS: 'Добавить золотые слитки',
			LEVEL_EDITOR: 'Редактор уровней',
			SELECT_LANGUAGE: 'Выбрать язык',
			SELECT_VERSION: 'Выбрать версию',
			DELETE_PROFILE_CONFIRM: 'Удалить текущий профиль? Вы потеряете весь свой прогресс',
			RESET_WHEEL: 'Сбросить время рулетки',
			RESET_WHEEL_CONFIRM: 'Вы уверены, что хотите сбросить время рулетки, чтобы снова запустить её?',
		}
	},
	es: {
		display: 'Español',
		font: 'DefaultFonts',
		pageFont: 'undefined',
		pageFontSize: '9',
		language: 'es',
		locale: 'es',
		title: 'Candy Crush Saga',
		ui: {
			UNLOCK_LEVEL_PROMPT: '¿Hasta qué nivel se desbloquean los niveles? (2825) Esta acción es irreversible.',
			CHARGE_LIVES_PROMPT: '¿Cargar todos los corazones?',
			EXTEND_LIVES_PROMPT: 'Introduce el número máximo de corazones.',
			ENTER_PROFILE_NAME: 'Introduce el nombre del perfil',
			NAME_ALREADY_EXISTS: 'Ese nombre ya existe.',
			NEW_NAME_PROMPT: 'Introduce el nuevo nombre',
			PROFILE_DATA_PROMPT: 'Introduce los datos del perfil',
			INVALID_DATA: 'Datos no válidos',
			IMPORT_ALREADY_EXISTS: 'Ese nombre ya existe. Introduce un nuevo nombre o déjalo en blanco para sobrescribirlo.',
			PROFILE_NOT_FOUND: 'Perfil no encontrado.',
			COPY_PROFILE_DATA: 'Copia los datos exportados.',
			BOOSTER_LIST: 'Introduce el potenciador que quieras en número: \n1. OVNI\n2. Pincel de rayas\n3. Troll chicle\n4. Golosina\n5. Comodín\n6. Caramelos rayados y envueltos\n7. Antipimienta\n8. Cambio libre\n9. Rueda de coco\n10. Medusa\n11. Martillo de piruleta\n12. Movimientos extra\n13. Bomba de color\n14. Tiempo extra.',
			BOOSTER_AMOUNT_PROMPT: '¿Cuántos quieres? (Introduce un valor negativo para eliminarlo)',
			GOLDBAR_AMOUNT_PROMPT: 'Introduce la cantidad de lingotes de oro que quieres añadir a tu cuenta (Introduce un valor negativo para reducirlos)',
			SWITCH_PROFILES: 'Cambiar de perfil',
			MANAGE_PROFILES: 'Gestionar perfiles',
			NUEVO_PERFIL: 'Crear nuevo perfil',
			ELIMINAR_PERFIL: 'Eliminar perfil actual',
			RENOMBRAR_PERFIL: 'Cambiar el nombre del perfil',
			IMPORTAR_PERFIL: 'Importar perfil',
			EXPORTAR_PERFIL: 'Exportar perfil',
			GAME_TOOLS: 'Herramientas del juego',
			UNLOCK_LEVELS: 'Desbloquear niveles',
			CHARGE_LIVES: 'Cargar vidas',
			EXTEND_LIVES: 'Extender vidas',
			ADD_BOOSTERS: 'Añadir potenciadores',
			ADD_GOLDBARS: 'Añadir lingotes de oro ',
			LEVEL_EDITOR: 'Editor de niveles',
			SELECT_LANGUAGE: 'Seleccionar idioma',
			SELECT_VERSION: 'Seleccionar versión',
			DELETE_PROFILE_CONFIRM: '¿Eliminar el perfil actual? Perderás todo tu progreso',
			RESET_WHEEL: 'Reiniciar el tiempo de la ruleta',
			RESET_WHEEL_CONFIRM: '¿Estás seguro de que deseas reiniciar la ruleta para poder girarla de nuevo?',
		}
	},
};

function getLanguage() {
	var ret = localStorage.getItem('language') || navigator.language?.split('-')[0] || 'en';
	if(!window.languages[ret]) ret = 'en';
	return ret;
}

function getString(key) {
	var lang = window.languages[getLanguage()];
	if(!lang) return key;
	return window.languages[getLanguage()].ui[key] || window.languages.en.ui[key] || key;
}

function initStrings() {
	var dt, dd, a;
	var lang = window.languages[getLanguage()] || window.languages.en;
	document.querySelectorAll('dl').forEach(el => {
		dt = el.querySelector('dt');
		dd = el.querySelectorAll('dd li');
		dt.innerHTML = getString(dt.innerHTML);
		dd.forEach(ln => {
			a = ln.querySelector('a');
			if(a) a.innerHTML = getString(a.innerHTML);
		});
	});
	
	var style = document.getElementById('pageStyle');
	style.innerHTML += 'body { font-family: ' + lang.pageFont + '; } dl dd li { font-size: ' + lang.pageFontSize + 'pt; }'
}

function setLanguage(lang) {
	localStorage.setItem('language', lang);
	history.go(0);
}

function loadLanguages() {
	var langList = document.getElementById('languageList');
	for(var lang in window.languages) {
		var li = document.createElement('li');
		li.innerHTML = '<a onclick="setLanguage(\'' + lang + '\');">' + escapeHTML(window.languages[lang].display) + '</a>';
		if(getLanguage() == lang)
			li.innerHTML = '<b>' + escapeHTML(window.languages[lang].display) + '</b>';
		langList.appendChild(li);
	}
}

function generateTexts(lang) {
	if(lang == 'en') {
		window.languages.en.texts = enTexts;
		return;
	}
	var texts = JSON.parse(enTexts);
	for(var key in texts) {
		texts[key] = window.gameInitStringsList[lang]['candycrush.candycrush'][key];
	}
	window.languages[lang].texts = JSON.stringify(texts);
}

window.lang = getLanguage();
document.title = window.languages[getLanguage()]?.title || 'Candy Crush Saga';
window.gameInitStrings = window.gameInitStringsList[window.lang];
generateTexts(window.lang);

